<!--index.wxml-->
<view class="container">
  <!-- 添加待办事项区域 -->
  <view class="add-todo-section">
    <input 
      class="add-input" 
      placeholder="添加新的待办事项..." 
      value="{{newTodo}}" 
      bindinput="onNewTodoInput"
      bindconfirm="addTodo"
    />
    <button class="add-btn btn btn-primary" bindtap="addTodo">添加</button>
  </view>

  <!-- 待办事项统计 -->
  <view class="todo-stats">
    <text class="stat-text">总共: {{todos.length}} | 待完成: {{pendingCount}} | 已完成: {{completedCount}}</text>
  </view>

  <!-- 待办事项列表 -->
  <view class="todo-list">
    <view 
      wx:for="{{todos}}" 
      wx:key="id" 
      class="todo-item {{item.completed ? 'completed' : ''}}"
    >
      <label class="todo-label">
        <checkbox 
          checked="{{item.completed}}" 
          bindchange="toggleTodo" 
          data-id="{{item.id}}"
        />
        <text class="todo-text">{{item.content}}</text>
      </label>
      
      <view class="todo-actions">
        <button class="btn btn-danger" size="mini" bindtap="deleteTodo" data-id="{{item.id}}">删除</button>
      </view>
    </view>
  </view>

  <!-- 空状态提示 -->
  <view wx:if="{{todos.length === 0}}" class="empty-tips">
    <text>暂无待办事项，快添加一个吧！</text>
  </view>
</view>